import '../models/food_item.dart';
import '../models/micronutrient_data.dart';

/// Local barcode database with 50+ popular food items
/// This serves as a fallback when the API is unavailable
/// and provides instant lookups for common products
class BarcodeDatabase {
  static final Map<String, FoodItem> _database = {
    // Beverages
    '012000161551': FoodItem(
      id: '',
      name: 'Coca-Cola Classic',
      barcode: '012000161551',
      servingSize: 355,
      calories: 140,
      protein: 0,
      carbs: 39,
      fats: 0,
      fiber: 0,
      sugar: 39,
      sodium: 45,
      category: 'beverages',
      isCustom: false,
    ),
    '012000638732': FoodItem(
      id: '',
      name: 'Diet Coke',
      barcode: '012000638732',
      servingSize: 355,
      calories: 0,
      protein: 0,
      carbs: 0,
      fats: 0,
      fiber: 0,
      sugar: 0,
      sodium: 40,
      category: 'beverages',
      isCustom: false,
    ),
    '012000814426': FoodItem(
      id: '',
      name: 'Sprite',
      barcode: '012000814426',
      servingSize: 355,
      calories: 140,
      protein: 0,
      carbs: 38,
      fats: 0,
      fiber: 0,
      sugar: 38,
      sodium: 65,
      category: 'beverages',
      isCustom: false,
    ),
    '052000337761': FoodItem(
      id: '',
      name: 'Gatorade Fruit Punch',
      barcode: '052000337761',
      servingSize: 355,
      calories: 80,
      protein: 0,
      carbs: 21,
      fats: 0,
      fiber: 0,
      sugar: 21,
      sodium: 110,
      category: 'beverages',
      isCustom: false,
    ),
    '025000058608': FoodItem(
      id: '',
      name: 'Red Bull Energy Drink',
      barcode: '025000058608',
      servingSize: 250,
      calories: 110,
      protein: 1,
      carbs: 27,
      fats: 0,
      fiber: 0,
      sugar: 27,
      sodium: 105,
      category: 'beverages',
      isCustom: false,
    ),

    // Snacks - Chips
    '028400047531': FoodItem(
      id: '',
      name: 'Lay\'s Classic Potato Chips',
      barcode: '028400047531',
      servingSize: 28,
      calories: 160,
      protein: 2,
      carbs: 15,
      fats: 10,
      fiber: 1,
      sugar: 0,
      sodium: 170,
      category: 'snacks',
      isCustom: false,
    ),
    '028400051354': FoodItem(
      id: '',
      name: 'Doritos Nacho Cheese',
      barcode: '028400051354',
      servingSize: 28,
      calories: 150,
      protein: 2,
      carbs: 18,
      fats: 8,
      fiber: 1,
      sugar: 0,
      sodium: 210,
      category: 'snacks',
      isCustom: false,
    ),
    '028400056793': FoodItem(
      id: '',
      name: 'Cheetos Crunchy',
      barcode: '028400056793',
      servingSize: 28,
      calories: 160,
      protein: 2,
      carbs: 15,
      fats: 10,
      fiber: 0,
      sugar: 0,
      sodium: 250,
      category: 'snacks',
      isCustom: false,
    ),
    '028400091084': FoodItem(
      id: '',
      name: 'Tostitos Scoops',
      barcode: '028400091084',
      servingSize: 28,
      calories: 140,
      protein: 2,
      carbs: 19,
      fats: 7,
      fiber: 2,
      sugar: 0,
      sodium: 115,
      category: 'snacks',
      isCustom: false,
    ),

    // Snacks - Candy
    '040000000013': FoodItem(
      id: '',
      name: 'M&M\'s Milk Chocolate',
      barcode: '040000000013',
      servingSize: 42,
      calories: 210,
      protein: 2,
      carbs: 30,
      fats: 9,
      fiber: 1,
      sugar: 27,
      sodium: 25,
      category: 'snacks',
      isCustom: false,
    ),
    '040000000068': FoodItem(
      id: '',
      name: 'Snickers Bar',
      barcode: '040000000068',
      servingSize: 52,
      calories: 250,
      protein: 4,
      carbs: 33,
      fats: 12,
      fiber: 1,
      sugar: 27,
      sodium: 120,
      category: 'snacks',
      isCustom: false,
    ),
    '034000002115': FoodItem(
      id: '',
      name: 'Reese\'s Peanut Butter Cups',
      barcode: '034000002115',
      servingSize: 42,
      calories: 210,
      protein: 5,
      carbs: 24,
      fats: 13,
      fiber: 1,
      sugar: 21,
      sodium: 140,
      category: 'snacks',
      isCustom: false,
    ),
    '040000528562': FoodItem(
      id: '',
      name: 'Skittles Original',
      barcode: '040000528562',
      servingSize: 61,
      calories: 250,
      protein: 0,
      carbs: 56,
      fats: 2.5,
      fiber: 0,
      sugar: 47,
      sodium: 15,
      category: 'snacks',
      isCustom: false,
    ),

    // Breakfast - Cereal
    '016000275218': FoodItem(
      id: '',
      name: 'Cheerios',
      barcode: '016000275218',
      servingSize: 28,
      calories: 100,
      protein: 3,
      carbs: 20,
      fats: 2,
      fiber: 3,
      sugar: 1,
      sodium: 140,
      category: 'breakfast',
      isCustom: false,
    ),
    '038000845406': FoodItem(
      id: '',
      name: 'Frosted Flakes',
      barcode: '038000845406',
      servingSize: 41,
      calories: 150,
      protein: 2,
      carbs: 37,
      fats: 0,
      fiber: 1,
      sugar: 14,
      sodium: 200,
      category: 'breakfast',
      isCustom: false,
    ),
    '038000199547': FoodItem(
      id: '',
      name: 'Lucky Charms',
      barcode: '038000199547',
      servingSize: 36,
      calories: 140,
      protein: 2,
      carbs: 29,
      fats: 1.5,
      fiber: 2,
      sugar: 13,
      sodium: 210,
      category: 'breakfast',
      isCustom: false,
    ),
    '016000117013': FoodItem(
      id: '',
      name: 'Honey Nut Cheerios',
      barcode: '016000117013',
      servingSize: 37,
      calories: 140,
      protein: 3,
      carbs: 29,
      fats: 2,
      fiber: 3,
      sugar: 12,
      sodium: 190,
      category: 'breakfast',
      isCustom: false,
    ),

    // Dairy
    '041220337675': FoodItem(
      id: '',
      name: 'Chobani Greek Yogurt Plain',
      barcode: '041220337675',
      servingSize: 150,
      calories: 100,
      protein: 18,
      carbs: 6,
      fats: 0,
      fiber: 0,
      sugar: 4,
      sodium: 60,
      category: 'dairy',
      isCustom: false,
      micronutrients: MicronutrientData(
        calcium: 200,
        vitaminB12: 1.2,
        phosphorus: 240,
        potassium: 240,
        vitaminA: 0,
        vitaminD: 0,
        zinc: 1.5,
      ),
    ),
    '036632026996': FoodItem(
      id: '',
      name: 'Yoplait Original Yogurt Strawberry',
      barcode: '036632026996',
      servingSize: 170,
      calories: 150,
      protein: 6,
      carbs: 26,
      fats: 2,
      fiber: 0,
      sugar: 19,
      sodium: 110,
      category: 'dairy',
      isCustom: false,
    ),
    '041390054426': FoodItem(
      id: '',
      name: 'Philadelphia Cream Cheese Original',
      barcode: '041390054426',
      servingSize: 28,
      calories: 100,
      protein: 2,
      carbs: 2,
      fats: 10,
      fiber: 0,
      sugar: 2,
      sodium: 110,
      category: 'dairy',
      isCustom: false,
    ),
    '021000615254': FoodItem(
      id: '',
      name: 'Kraft Singles American Cheese',
      barcode: '021000615254',
      servingSize: 21,
      calories: 60,
      protein: 4,
      carbs: 2,
      fats: 4.5,
      fiber: 0,
      sugar: 2,
      sodium: 220,
      category: 'dairy',
      isCustom: false,
    ),

    // Protein - Canned/Packaged
    '041196912364': FoodItem(
      id: '',
      name: 'Bumble Bee Chunk Light Tuna in Water',
      barcode: '041196912364',
      servingSize: 56,
      calories: 50,
      protein: 11,
      carbs: 0,
      fats: 0.5,
      fiber: 0,
      sugar: 0,
      sodium: 160,
      category: 'protein',
      isCustom: false,
      micronutrients: MicronutrientData(
        vitaminB12: 2.4,
        vitaminD: 4.9,
        selenium: 40,
        phosphorus: 139,
        potassium: 201,
        iron: 0.8,
        vitaminB3: 8.6,
        vitaminB6: 0.3,
      ),
    ),
    '070670000532': FoodItem(
      id: '',
      name: 'StarKist Tuna Creations Lemon Pepper',
      barcode: '070670000532',
      servingSize: 74,
      calories: 80,
      protein: 17,
      carbs: 0,
      fats: 1,
      fiber: 0,
      sugar: 0,
      sodium: 350,
      category: 'protein',
      isCustom: false,
    ),
    '030000010082': FoodItem(
      id: '',
      name: 'Spam Classic',
      barcode: '030000010082',
      servingSize: 56,
      calories: 180,
      protein: 7,
      carbs: 1,
      fats: 16,
      fiber: 0,
      sugar: 0,
      sodium: 790,
      category: 'protein',
      isCustom: false,
    ),

    // Bread & Grains
    '072250016025': FoodItem(
      id: '',
      name: 'Nature\'s Own Whole Wheat Bread',
      barcode: '072250016025',
      servingSize: 52,
      calories: 110,
      protein: 5,
      carbs: 21,
      fats: 1.5,
      fiber: 3,
      sugar: 4,
      sodium: 200,
      category: 'grains',
      isCustom: false,
    ),
    '072250017206': FoodItem(
      id: '',
      name: 'Nature\'s Own Honey Wheat Bread',
      barcode: '072250017206',
      servingSize: 43,
      calories: 110,
      protein: 4,
      carbs: 21,
      fats: 1.5,
      fiber: 2,
      sugar: 5,
      sodium: 160,
      category: 'grains',
      isCustom: false,
    ),
    '021000658237': FoodItem(
      id: '',
      name: 'Kraft Mac & Cheese Original',
      barcode: '021000658237',
      servingSize: 70,
      calories: 250,
      protein: 9,
      carbs: 47,
      fats: 3,
      fiber: 2,
      sugar: 6,
      sodium: 570,
      category: 'grains',
      isCustom: false,
    ),

    // Condiments & Sauces
    '013000006408': FoodItem(
      id: '',
      name: 'Heinz Tomato Ketchup',
      barcode: '013000006408',
      servingSize: 17,
      calories: 20,
      protein: 0,
      carbs: 5,
      fats: 0,
      fiber: 0,
      sugar: 4,
      sodium: 160,
      category: 'other',
      isCustom: false,
    ),
    '041303005569': FoodItem(
      id: '',
      name: 'French\'s Yellow Mustard',
      barcode: '041303005569',
      servingSize: 5,
      calories: 0,
      protein: 0,
      carbs: 0,
      fats: 0,
      fiber: 0,
      sugar: 0,
      sodium: 55,
      category: 'other',
      isCustom: false,
    ),
    '048001213562': FoodItem(
      id: '',
      name: 'Hellmann\'s Real Mayonnaise',
      barcode: '048001213562',
      servingSize: 13,
      calories: 90,
      protein: 0,
      carbs: 0,
      fats: 10,
      fiber: 0,
      sugar: 0,
      sodium: 90,
      category: 'other',
      isCustom: false,
    ),

    // Frozen Foods
    '072180009074': FoodItem(
      id: '',
      name: 'Hot Pockets Pepperoni Pizza',
      barcode: '072180009074',
      servingSize: 127,
      calories: 290,
      protein: 11,
      carbs: 34,
      fats: 11,
      fiber: 2,
      sugar: 4,
      sodium: 620,
      category: 'frozen',
      isCustom: false,
    ),
    '041500075006': FoodItem(
      id: '',
      name: 'Lean Cuisine Chicken Alfredo',
      barcode: '041500075006',
      servingSize: 262,
      calories: 270,
      protein: 18,
      carbs: 36,
      fats: 5,
      fiber: 3,
      sugar: 4,
      sodium: 650,
      category: 'frozen',
      isCustom: false,
    ),
    '070038630227': FoodItem(
      id: '',
      name: 'Stouffer\'s Lasagna with Meat & Sauce',
      barcode: '070038630227',
      servingSize: 215,
      calories: 300,
      protein: 14,
      carbs: 31,
      fats: 13,
      fiber: 3,
      sugar: 8,
      sodium: 830,
      category: 'frozen',
      isCustom: false,
    ),

    // Energy/Protein Bars
    '034000126217': FoodItem(
      id: '',
      name: 'Clif Bar Chocolate Chip',
      barcode: '034000126217',
      servingSize: 68,
      calories: 250,
      protein: 9,
      carbs: 45,
      fats: 5,
      fiber: 4,
      sugar: 21,
      sodium: 200,
      category: 'snacks',
      isCustom: false,
    ),
    '040000549734': FoodItem(
      id: '',
      name: 'PowerBar Protein Plus Chocolate',
      barcode: '040000549734',
      servingSize: 85,
      calories: 330,
      protein: 20,
      carbs: 42,
      fats: 8,
      fiber: 3,
      sugar: 24,
      sodium: 220,
      category: 'snacks',
      isCustom: false,
    ),
    '052000338812': FoodItem(
      id: '',
      name: 'Quest Protein Bar Chocolate Chip',
      barcode: '052000338812',
      servingSize: 60,
      calories: 200,
      protein: 21,
      carbs: 22,
      fats: 8,
      fiber: 14,
      sugar: 1,
      sodium: 250,
      category: 'snacks',
      isCustom: false,
    ),

    // Nuts & Seeds
    '041449063003': FoodItem(
      id: '',
      name: 'Planters Dry Roasted Peanuts',
      barcode: '041449063003',
      servingSize: 28,
      calories: 160,
      protein: 7,
      carbs: 5,
      fats: 14,
      fiber: 2,
      sugar: 1,
      sodium: 160,
      category: 'snacks',
      isCustom: false,
    ),
    '041449063379': FoodItem(
      id: '',
      name: 'Planters Deluxe Mixed Nuts',
      barcode: '041449063379',
      servingSize: 28,
      calories: 170,
      protein: 5,
      carbs: 6,
      fats: 15,
      fiber: 2,
      sugar: 1,
      sodium: 90,
      category: 'snacks',
      isCustom: false,
    ),
    '028000803216': FoodItem(
      id: '',
      name: 'Lay\'s Oven Baked Original',
      barcode: '028000803216',
      servingSize: 28,
      calories: 120,
      protein: 2,
      carbs: 21,
      fats: 3.5,
      fiber: 2,
      sugar: 2,
      sodium: 135,
      category: 'snacks',
      isCustom: false,
    ),

    // Cookies & Crackers
    '044000032289': FoodItem(
      id: '',
      name: 'Oreo Chocolate Sandwich Cookies',
      barcode: '044000032289',
      servingSize: 34,
      calories: 160,
      protein: 2,
      carbs: 25,
      fats: 7,
      fiber: 1,
      sugar: 14,
      sodium: 135,
      category: 'snacks',
      isCustom: false,
    ),
    '044000032319': FoodItem(
      id: '',
      name: 'Chips Ahoy! Original',
      barcode: '044000032319',
      servingSize: 33,
      calories: 160,
      protein: 2,
      carbs: 22,
      fats: 8,
      fiber: 1,
      sugar: 11,
      sodium: 105,
      category: 'snacks',
      isCustom: false,
    ),
    '024100005253': FoodItem(
      id: '',
      name: 'Ritz Crackers Original',
      barcode: '024100005253',
      servingSize: 16,
      calories: 80,
      protein: 1,
      carbs: 10,
      fats: 4,
      fiber: 0,
      sugar: 1,
      sodium: 105,
      category: 'snacks',
      isCustom: false,
    ),
    '044000032296': FoodItem(
      id: '',
      name: 'Wheat Thins Original',
      barcode: '044000032296',
      servingSize: 31,
      calories: 140,
      protein: 3,
      carbs: 22,
      fats: 5,
      fiber: 3,
      sugar: 4,
      sodium: 230,
      category: 'snacks',
      isCustom: false,
    ),

    // Ice Cream
    '077567128010': FoodItem(
      id: '',
      name: 'Ben & Jerry\'s Half Baked',
      barcode: '077567128010',
      servingSize: 104,
      calories: 280,
      protein: 5,
      carbs: 35,
      fats: 13,
      fiber: 1,
      sugar: 26,
      sodium: 100,
      category: 'frozen',
      isCustom: false,
    ),
    '041548751900': FoodItem(
      id: '',
      name: 'Breyers Vanilla Ice Cream',
      barcode: '041548751900',
      servingSize: 66,
      calories: 130,
      protein: 2,
      carbs: 17,
      fats: 6,
      fiber: 0,
      sugar: 14,
      sodium: 35,
      category: 'frozen',
      isCustom: false,
    ),
  };

  /// Look up a food item by barcode in the local database
  static FoodItem? lookup(String barcode) {
    return _database[barcode];
  }

  /// Check if a barcode exists in the local database
  static bool contains(String barcode) {
    return _database.containsKey(barcode);
  }

  /// Get all barcodes in the database
  static List<String> getAllBarcodes() {
    return _database.keys.toList();
  }

  /// Get the total number of items in the database
  static int get count => _database.length;

  /// Search for items by name
  static List<FoodItem> search(String query) {
    if (query.isEmpty) return [];

    final lowerQuery = query.toLowerCase();
    return _database.values
        .where((item) => item.name.toLowerCase().contains(lowerQuery))
        .toList();
  }

  /// Get all items by category
  static List<FoodItem> getByCategory(String category) {
    return _database.values.where((item) => item.category == category).toList();
  }
}
